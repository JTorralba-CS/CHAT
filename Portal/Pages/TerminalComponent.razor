@inject Services.TranscriptService TranscriptService

<RadzenCard Style="margin: 0px; padding: 0px;">
    <RadzenTextBox Change=@(args => OnChange(args)) Style="width: 100%;" @ref="textInput" @bind-Value="value" />
</RadzenCard>

@code {
    private RadzenTextBox? textInput;

    private string? value;

    protected override async Task OnInitializedAsync()
    {
        value = string.Empty;
    }

    protected override async void OnAfterRender(bool firstRender)

    {
        if (firstRender)
        {
            await textInput.Element.FocusAsync();
        }
    }

    private async Task OnChange(string value)
    {
        this.value = string.Empty;
        
        await TranscriptService.Send(value);
    }
}
